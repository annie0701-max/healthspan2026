<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ä½³é½¡å¥åº·ï½œæ–°å¹´æŠ½å¥½é‹</title>

  <!-- åˆ†äº«é è¦½ï¼šæŠŠ YOUR_healthspan2026.vercel.app æ›æˆæ­£å¼ç¶²å€ï¼›og.png æ”¾åŒè³‡æ–™å¤¾ -->
  <meta property="og:title" content="ä½³é½¡å¥åº·ï½œæ–°å¹´æŠ½å¥½é‹" />
  <meta property="og:description" content="å°ˆæ¥­å¥åº· Ã— é¦¬å¹´æ´»åŠ›ã€‚é»ä¸€ä¸‹æŠ½ä¸€ä»½æ–°å¹´å¥½å…†é ­ã€‚" />
  <meta property="og:image" content="https://YOUR_DOMAIN/og.png"/>
  <meta property="og:url" content="https://YOUR_DOMAIN/og.png/"/>
  <meta name="twitter:card" content="summary_large_image" />

  <style>
    :root{
      --red:#971b20;
      --red2:#7b1116;
      --gold:#d4af37;
      --gold2:#f3e7b3;
      --ink:#2a1c10;
      --muted:#6b5a3c;
      --paper:#fffdf6;
      --paper2:#fff5da;
      --shadow: rgba(0,0,0,.25);
      --softshadow: rgba(0,0,0,.18);
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      color:var(--ink);
      font-family: "PingFang TC","Noto Sans TC","Microsoft JhengHei",system-ui,sans-serif;
      background:
        radial-gradient(900px 500px at 18% 8%, rgba(212,175,55,.20), transparent 60%),
        radial-gradient(900px 500px at 82% 18%, rgba(212,175,55,.14), transparent 58%),
        linear-gradient(180deg, var(--red), var(--red2));
      overflow-x:hidden;
    }

    /* subtle gold pattern overlay */
    body::before{
      content:"";
      position:fixed;
      inset:0;
      pointer-events:none;
      opacity:.16;
      background-image:
        radial-gradient(circle at 20px 20px, rgba(212,175,55,.55) 2px, transparent 2.5px),
        radial-gradient(circle at 60px 60px, rgba(212,175,55,.35) 1.5px, transparent 2px);
      background-size: 120px 120px;
      mix-blend-mode: overlay;
      filter: blur(.2px);
    }

    /* animated gold ribbons */
    .ribbon{
      position:fixed;
      left:-30%;
      width:160%;
      height:220px;
      pointer-events:none;
      opacity:.16;
      background: linear-gradient(90deg, transparent, rgba(212,175,55,.8), transparent);
      transform: rotate(-8deg);
      filter: blur(1px);
      animation: drift 9s linear infinite;
    }
    .ribbon.r2{
      top:auto;
      bottom:-60px;
      height:260px;
      opacity:.12;
      transform: rotate(10deg);
      animation-duration: 12s;
      animation-direction: reverse;
    }
    @keyframes drift{
      from{ transform: translateX(-10%) rotate(-8deg); }
      to{ transform: translateX(10%) rotate(-8deg); }
    }

    .wrap{
      max-width: 640px;
      margin:0 auto;
      padding: 26px 16px 54px;
      position:relative;
      z-index:1;
    }

    .header{
      text-align:center;
      color: rgba(255,255,255,.92);
      margin-bottom: 16px;
    }

    .brand{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:8px 14px;
      border-radius:999px;
      background: rgba(0,0,0,.14);
      border:1px solid rgba(243,231,179,.25);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      font-size: 13px;
      letter-spacing: 2px;
    }

    h1{
      margin: 12px 0 6px;
      font-size: 32px;
      letter-spacing: 3px;
    }

    .sub{
      font-size: 14px;
      color: rgba(255,255,255,.86);
      line-height: 1.6;
    }

    .hero{
      margin-top: 14px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 14px;
      flex-wrap:wrap;
    }

    .seal{
      width: 84px;
      height: 84px;
      border-radius: 24px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(243,231,179,.25);
      box-shadow: 0 16px 34px rgba(0,0,0,.18);
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .seal svg{
      width: 62px;
      height: 62px;
    }

    .panel{
      margin-top: 18px;
      background: linear-gradient(180deg, var(--paper), var(--paper2));
      border-radius: 24px;
      padding: 18px;
      box-shadow:
        0 24px 46px var(--shadow),
        inset 0 0 0 2px rgba(212,175,55,.35);
      position:relative;
      overflow:hidden;
    }

    /* corner ornaments */
    .panel::before, .panel::after{
      content:"";
      position:absolute;
      width: 160px;
      height: 160px;
      border-radius: 32px;
      background: radial-gradient(circle at 30% 30%, rgba(212,175,55,.22), transparent 60%);
      filter: blur(.2px);
      opacity:.8;
    }
    .panel::before{ top:-60px; left:-60px; }
    .panel::after{ bottom:-60px; right:-60px; }

    button{
      appearance:none;
      border:none;
      cursor:pointer;
      font-size: 17px;
      border-radius: 16px;
      padding: 14px 16px;
      transition: transform .06s ease, filter .2s ease, opacity .2s ease;
      position:relative;
      z-index:1;
    }
    button:active{ transform: translateY(1px) scale(.99); }
    button:disabled{ opacity:.6; cursor:not-allowed; transform:none; }

    button.primary{
      width: 100%;
      background: linear-gradient(180deg, var(--gold), #c79a2c);
      color: #4a3200;
      font-weight: 900;
      letter-spacing: 1px;
      box-shadow: 0 10px 22px rgba(0,0,0,.20);
    }

    button.secondary{
      background: #fff;
      border: 1px solid rgba(212,175,55,.9);
      color: #6a4b00;
      font-weight: 800;
    }

    .row{
      display:flex;
      gap:10px;
      margin-top: 12px;
      justify-content:center;
      flex-wrap:wrap;
      position:relative;
      z-index:1;
    }

    .hint{
      margin-top: 10px;
      font-size: 13px;
      text-align:center;
      color: var(--muted);
      position:relative;
      z-index:1;
      min-height: 18px;
    }

    /* --- draw animation area --- */
    .drawstage{
      margin-top: 14px;
      border-radius: 20px;
      background: rgba(255,255,255,.55);
      border: 1px solid rgba(212,175,55,.35);
      padding: 14px;
      display:none;
      position:relative;
      overflow:hidden;
      z-index:1;
    }
    .drawstage.show{ display:block; }
    .drawline{
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      color: rgba(106,75,0,.9);
      font-weight: 800;
      letter-spacing: 1px;
    }
    .spinner{
      width: 18px;
      height: 18px;
      border-radius: 999px;
      border: 2px solid rgba(212,175,55,.35);
      border-top-color: rgba(151,27,32,.75);
      animation: spin .8s linear infinite;
    }
    @keyframes spin{ to{ transform: rotate(360deg); } }

    .miniwrap{
      margin-top: 12px;
      display:flex;
      align-items:center;
      justify-content:center;
      height: 120px;
      position:relative;
    }
    .minicard{
      width: 110px;
      height: 70px;
      border-radius: 16px;
      background: linear-gradient(180deg, #fffdf6, #fff3cf);
      box-shadow: 0 16px 26px var(--softshadow), inset 0 0 0 1px rgba(212,175,55,.35);
      position:absolute;
      transform: translateY(8px) rotate(-4deg);
      animation: shuffle 1.1s ease-in-out infinite;
    }
    .minicard::before{
      content:"";
      position:absolute;
      inset: 10px 10px auto auto;
      width: 18px;
      height: 18px;
      border-radius: 8px;
      background: rgba(212,175,55,.22);
    }
    .minicard::after{
      content:"";
      position:absolute;
      inset: auto 12px 14px 12px;
      height: 10px;
      border-radius: 8px;
      background: linear-gradient(90deg, rgba(212,175,55,.18), rgba(151,27,32,.10));
    }
    .minicard.c2{
      transform: translateY(-6px) rotate(5deg);
      animation-delay: .08s;
      opacity:.92;
    }
    .minicard.c3{
      transform: translateY(18px) rotate(-10deg);
      animation-delay: .16s;
      opacity:.84;
    }
    @keyframes shuffle{
      0%{ transform: translateY(10px) rotate(-5deg); }
      45%{ transform: translateY(-8px) rotate(6deg); }
      100%{ transform: translateY(10px) rotate(-5deg); }
    }

    /* --- result card (screenshot-friendly) --- */
    .card{
      display:none;
      margin-top: 16px;
      padding: 18px;
      border-radius: 20px;
      background: var(--paper);
      box-shadow: inset 0 0 0 1px rgba(212,175,55,.35);
      text-align:center;
      position:relative;
      overflow:hidden;
      z-index:1;
    }

    .card::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(120px 60px at 10% 10%, rgba(212,175,55,.18), transparent 65%),
        radial-gradient(140px 70px at 90% 0%, rgba(212,175,55,.14), transparent 60%),
        radial-gradient(160px 80px at 90% 110%, rgba(212,175,55,.14), transparent 60%);
      pointer-events:none;
    }

    .card.pop{
      animation: pop .42s cubic-bezier(.2,1,.2,1) both;
    }
    @keyframes pop{
      from{ transform: translateY(16px) scale(.94); opacity: 0; }
      to{ transform: translateY(0) scale(1); opacity: 1; }
    }

    .stamp{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap: 8px;
      font-size: 12px;
      padding: 7px 12px;
      border-radius: 999px;
      background: rgba(151,27,32,.06);
      border: 1px solid rgba(151,27,32,.12);
      color: rgba(151,27,32,.90);
      position:relative;
      z-index:1;
      letter-spacing: 1px;
    }

    .title{
      margin-top: 10px;
      font-size: 28px;
      font-weight: 900;
      color: #7a4f00;
      letter-spacing: 3px;
      position:relative;
      z-index:1;
      opacity:0;
      transform: translateY(8px);
    }
    .msg{
      margin-top: 10px;
      font-size: 16px;
      line-height: 1.7;
      position:relative;
      z-index:1;
      opacity:0;
      transform: translateY(8px);
    }
    .quote{
      margin-top: 12px;
      font-size: 18px;
      font-weight: 900;
      letter-spacing: 1px;
      color: #7b1116;
      position:relative;
      z-index:1;
      opacity:0;
      transform: translateY(8px);
    }
    
    .quote.rare{
      text-shadow:
        0 0 6px rgba(212,175,55,.65),
        0 0 18px rgba(212,175,55,.35);
      animation: glow .6s ease-out;
    }
    @keyframes glow{
      from{ text-shadow: none; filter: brightness(1); }
      to{
        text-shadow:
          0 0 6px rgba(212,175,55,.65),
          0 0 18px rgba(212,175,55,.35);
        filter: brightness(1.02);
      }
    }

    .bonus{
      margin-top: 10px;
      font-size: 14px;
      color: #7b1116;
      background: rgba(212,175,55,.15);
      border: 1px solid rgba(212,175,55,.45);
      border-radius: 999px;
      padding: 6px 12px;
      display: inline-block;
      position:relative;
      z-index:1;
      opacity:0;
      transform: translateY(8px);
    }
    .reveal .bonus{ animation: reveal .38s ease-out .46s both; }
.reveal .title{ animation: reveal .38s ease-out .10s both; }
    .reveal .msg{ animation: reveal .38s ease-out .22s both; }
    .reveal .quote{ animation: reveal .38s ease-out .36s both; }
    @keyframes reveal{
      to{ opacity:1; transform: translateY(0); }
    }

    .tip{
      margin-top: 14px;
      text-align:left;
      padding: 12px 12px;
      border-radius: 16px;
      background: rgba(212,175,55,.10);
      border: 1px dashed rgba(212,175,55,.45);
      position:relative;
      z-index:1;
    }
    .tip .k{
      font-size: 12px;
      color: rgba(106,75,0,.85);
      font-weight: 900;
      letter-spacing: 1px;
    }
    .tip .v{
      margin-top: 6px;
      font-size: 13px;
      color: rgba(42,28,16,.9);
      line-height: 1.6;
    }

    .fine{
      margin-top:16px;
      font-size:12px;
      color: var(--muted);
      line-height: 1.6;
      position:relative;
      z-index:1;
    }

    .footer{
      margin-top: 20px;
      font-size: 12px;
      text-align:center;
      color: rgba(255,255,255,.72);
      line-height: 1.6;
    }

    @media (prefers-reduced-motion: reduce){
      .ribbon, .spinner, .minicard{ animation:none !important; }
      .card.pop, .reveal .title, .reveal .msg, .reveal .quote{ animation:none !important; opacity:1 !important; transform:none !important; }
    }
  </style>
</head>

<body>
  <div class="ribbon"></div>
  <div class="ribbon r2"></div>

  <div class="wrap">
    <div class="header">
      <div class="brand">ä½³é½¡å¥åº·</div>
      <h1>æ–°å¹´æŠ½å¥½é‹</h1>
      <div class="sub">å°ˆæ¥­å¥åº· Ã— é¦¬å¹´æ´»åŠ›ã€‚äººäººéƒ½èƒ½æŠ½çš„å¥½å…†é ­ã€‚</div>

      <div class="hero" aria-hidden="true">
        <div class="seal" title="é¦¬å¹´æ´»åŠ›">
          <!-- Simple horse silhouette (inline SVG) -->
          <svg viewBox="0 0 64 64" fill="none" aria-hidden="true">
            <path d="M47 14c-4-3-10-3-13 2-2 3-2 7 0 10l-6 5-6-3-6 4 4 7-3 6 7 4 5-3 6 3h18l4-7-5-6 2-5-5-3 4-4-2-4z" fill="rgba(212,175,55,.92)"/>
            <path d="M21 33l6 3 8-6" stroke="rgba(122,79,0,.55)" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
      </div>
    </div>

    <div class="panel">
      <button id="drawBtn" class="primary">é–‹å§‹æŠ½å¥½é‹</button>

      <div class="row">
        <button id="againBtn" class="secondary" style="display:none;">å†æŠ½ä¸€æ¬¡</button>
        <button id="copyBtn" class="secondary" style="display:none;">è¤‡è£½åˆ†äº«æ–‡æ¡ˆ</button>
      </div>

      <div class="hint" id="statusHint"></div>

      <!-- Draw animation stage -->
      <div id="drawStage" class="drawstage" aria-live="polite">
        <div class="drawline">
          <div class="spinner" aria-hidden="true"></div>
          <div id="drawText">æŠ½å¥½é‹ä¸­â€¦</div>
        </div>
        <div class="miniwrap" aria-hidden="true">
          <div class="minicard c3"></div>
          <div class="minicard c2"></div>
          <div class="minicard"></div>
        </div>
      </div>

      <!-- Result card -->
      <div id="card" class="card">
        <div class="stamp">ä½ çš„æ–°å¹´å¥½å…†é ­</div>
        <div class="title" id="title"></div>
        <div class="msg" id="msg"></div>
        <div class="quote" id="quote"></div>
        <div class="bonus" id="bonus" style="display:none;">ğŸ‰ ä»Šæ—¥ç‰¹åˆ¥å¥½é‹ï¼š<strong>ï¼‹10%</strong></div>

        <div class="tip">
          <div class="k">ä»Šæ—¥å¥åº·æé†’</div>
          <div class="v" id="tipText"></div>
        </div>

        <div class="fine">æ­¤æ´»å‹•ç‚ºæ–°å¹´ç¥ç¦äº’å‹•é«”é©—ï¼Œå…§å®¹åƒ…ä¾›ç¥ç¦åƒè€ƒã€‚ç¥ä½ é¦¬å¹´ç²¾ç¥æ»¿æ»¿ã€æ­¥æ­¥å‘å‰ã€‚</div>
      </div>
    </div>

    <div class="footer">
      æˆªåœ–åˆ†äº«ä½ çš„ã€Œå¥½é‹å¡ã€ï¼ŒæŠŠç¥ç¦é€å‡ºå» ğŸ§§
    </div>
  </div>

<script>
  // ä½ åªè¦æ”¹é€™è£¡ï¼šéƒ¨ç½²å¾Œçš„æ­£å¼ç¶²å€ï¼ˆåˆ†äº«æ–‡æ¡ˆæœƒç”¨åˆ°ï¼‰
  const SITE_URL = "healthspan2026.vercel.app";
  const COOLDOWN_MS = 3000;

  // è®“ã€ŒæŠ½å¥½é‹ / æŠ½å‰åˆ©ã€å…¼é¡§æ‰€æœ‰ä¿¡ä»°ï¼šä¸å‡ºç¾å®—æ•™è©å½™ï¼Œä¸åšå åœæ‰¿è«¾
  const cards = [
    { title:"å¥åº·å¥½é‹", body:"æ–°çš„ä¸€å¹´ï¼Œèº«é«”æ˜¯ä½ æœ€å¥½çš„æœ¬éŒ¢ã€‚é¡§å¥½ä½œæ¯ã€å‹•å¾—å‰›å¥½ï¼Œå¥åº·è‡ªç„¶è·Ÿä¸Šã€‚", quote:"æŠŠå¥åº·æ”¾ç¬¬ä¸€ï¼Œå¥½é‹å°±æœ‰åº•æ°£ã€‚" },
    { title:"å¹³å®‰å¥½é‹", body:"å¹³å®‰ä¸æ˜¯æ²’æœ‰æŒ‘æˆ°ï¼Œè€Œæ˜¯æ¯ä¸€æ­¥éƒ½èµ°å¾—å®‰å¿ƒè¸å¯¦ã€‚", quote:"å¿ƒå®‰ï¼Œè¬äº‹å°±å®‰ã€‚" },
    { title:"é †åˆ©å¥½é‹", body:"æ–¹å‘å°äº†ï¼Œè…³æ­¥è‡ªç„¶è¼•å¿«ã€‚é¡˜ä»Šå¹´çš„æ¯ä¸€æ®µè·¯ï¼Œéƒ½é †é †å‰è¡Œã€‚", quote:"è·¯é †ï¼Œä¸ç­‰æ–¼å¿«ï¼›ç©©ï¼Œæ‰æ˜¯è´ã€‚" },
    { title:"é †å¿ƒå¥½é‹", body:"æŠŠé‡è¦çš„äº‹æ”¾åœ¨å¿ƒä¸Šï¼Œå…¶ä»–çš„ï¼Œå°±äº¤çµ¦æ™‚é–“æ…¢æ…¢æ•´ç†ã€‚", quote:"æŠŠå¿ƒæ”¾é¬†ï¼Œå¥½äº‹æ‰æœ‰ç©ºé€²ä¾†ã€‚" },
    { title:"å¹¸ç¦å¥½é‹", body:"å¹¸ç¦è—åœ¨æ—¥å¸¸çš„å°ç´°ç¯€è£¡ï¼Œå¥½å¥½ç”Ÿæ´»ï¼Œæœ¬èº«å°±æ˜¯ä¸€ç¨®ç¥ç¦ã€‚", quote:"å¹¸ç¦ä¸æ˜¯é æ–¹ï¼Œæ˜¯ä»Šå¤©çš„å¥½å¥½éã€‚" },
    { title:"å¥½é‹åŠ ä¹˜", body:"æº–å‚™å¥½äº†ï¼Œå¥½é‹æ‰æœƒé è¿‘ã€‚é¡˜ä»Šå¹´çš„åŠªåŠ›ï¼Œéƒ½æœ‰å¥½æ¶ˆæ¯å›æ‡‰ã€‚", quote:"ä½ åœ¨å‰é€²ï¼Œå¥½é‹å°±åœ¨è·¯ä¸Šã€‚" }
  ];

  const dailyTips = [
    "å–æ°´æ˜¯æœ€ä¾¿å®œçš„ä¿é¤Šã€‚ä»Šå¤©å¹«è‡ªå·±è£œæ»¿ä¸€æ¯æ°´å§ã€‚",
    "èµ° 5 åˆ†é˜ä¹Ÿç®—é‹å‹•ã€‚è®“èº«é«”å…ˆç†±èµ·ä¾†ï¼Œå¥½ç‹€æ…‹æ‰è·Ÿå¾—ä¸Šã€‚",
    "ç¡å¾—å¥½ï¼Œå…ç–«å°±æ›´æœ‰åŠ›ã€‚ä»Šæ™šææ—© 15 åˆ†é˜ä¸ŠåºŠã€‚",
    "ä¹…åä¸€å°æ™‚ï¼Œèµ·ä¾†å‹•ä¸€å‹•ã€‚è‚©é ¸è·Ÿè…°æœƒæ„Ÿè¬ä½ ã€‚",
    "åƒæ…¢ä¸€é»ï¼Œèº«é«”æ›´å®¹æ˜“çŸ¥é“ã€Œæˆ‘é£½äº†ã€ã€‚",
    "æ·±å‘¼å¸ 10 æ¬¡ï¼ŒæŠŠä»Šå¤©çš„å£“åŠ›å…ˆæ”¾ä¸‹ä¾†ã€‚",
    "å¤šä¸€ä»½è”¬æœï¼Œå°‘ä¸€ä»½è² æ“”ã€‚ä»Šå¤©åŠ ä¸€é“ç¶ è‰²ã€‚",
    "çœ¼ç›ä¹Ÿéœ€è¦ä¼‘æ¯ã€‚20-20-20ï¼šæ¯ 20 åˆ†é˜çœ‹é  20 å‘ 20 ç§’ã€‚",
    "åˆ¥è¿½æ±‚å®Œç¾ï¼Œè¿½æ±‚ç©©å®šã€‚æŒçºŒæ¯”çˆ†è¡æ›´æœ‰æ•ˆã€‚"
  ];

  function pickRandom(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

  // Deterministic daily tip by day-of-year (same day same tip)
  function dayOfYear(d){
    const start = new Date(d.getFullYear(), 0, 0);
    const diff = d - start;
    const oneDay = 24*60*60*1000;
    return Math.floor(diff / oneDay);
  }

  const drawBtn = document.getElementById("drawBtn");
  const againBtn = document.getElementById("againBtn");
  const copyBtn = document.getElementById("copyBtn");
  const statusHint = document.getElementById("statusHint");

  const drawStage = document.getElementById("drawStage");
  const drawText = document.getElementById("drawText");

  const card = document.getElementById("card");
  const titleEl = document.getElementById("title");
  const msgEl = document.getElementById("msg");
  const quoteEl = document.getElementById("quote");
  const bonusEl = document.getElementById("bonus");
  const tipText = document.getElementById("tipText");

  let lastResult = null;
  let cooldownUntil = 0;
  let drawTimer1 = null;
  let drawTimer2 = null;

  function setButtons(){
    const now = Date.now();
    const cooling = now < cooldownUntil;
    drawBtn.disabled = cooling;
    againBtn.disabled = cooling;
    copyBtn.disabled = cooling;

    if (cooling){
      const sec = Math.ceil((cooldownUntil-now)/1000);
      statusHint.textContent = `å†·å»ä¸­ï¼š${sec} ç§’`;
    } else {
      statusHint.textContent = lastResult ? "å¯ä»¥å†æŠ½ä¸€æ¬¡" : "";
    }
  }

  function startCooldown(){
    cooldownUntil = Date.now() + COOLDOWN_MS;
    setButtons();
    const t = setInterval(() => {
      setButtons();
      if (Date.now() >= cooldownUntil) clearInterval(t);
    }, 200);
  }

  function setDailyTip(){
    const idx = dayOfYear(new Date()) % dailyTips.length;
    tipText.textContent = dailyTips[idx];
  }

  function clearTimers(){
    if (drawTimer1) clearTimeout(drawTimer1);
    if (drawTimer2) clearTimeout(drawTimer2);
    drawTimer1 = null;
    drawTimer2 = null;
  }

  function beginDrawAnimation(){
    // Reset UI for a new draw sequence
    clearTimers();
    card.style.display = "none";
    card.classList.remove("pop","reveal");
    quoteEl.classList.remove("rare");
    bonusEl.style.display = "none";
    drawStage.classList.add("show");

    // Rotate draw text to add waiting feel
    const phrases = ["æŠ½å¥½é‹ä¸­â€¦", "æŠŠç¥ç¦æ•´ç†ä¸€ä¸‹â€¦", "é¦¬å¹´æ´»åŠ›åŠ è¼‰ä¸­â€¦"];
    drawText.textContent = phrases[Math.floor(Math.random()*phrases.length)];
  }

  function showResult(result){
    lastResult = result;

    // Fill content first
    titleEl.textContent = result.title;
    msgEl.textContent = result.body;
    quoteEl.textContent = `ã€Œ${result.quote}ã€`;

    // éŠæˆ²æ„Ÿï¼šç¨€æœ‰ç™¼å…‰é‡‘å¥ï¼ˆ15%ï¼‰+ éš±è—åŠ ä¹˜ï¼ˆ5%ï¼‰
    const isRare = Math.random() < 0.15;
    quoteEl.classList.toggle("rare", isRare);

    const hasBonus = Math.random() < 0.05;
    bonusEl.style.display = hasBonus ? "inline-block" : "none";

    setDailyTip();

    // Hide stage, show card with pop + stagger reveal
    drawStage.classList.remove("show");
    card.style.display = "block";
    // force reflow so animations restart reliably
    void card.offsetWidth;
    card.classList.add("pop");
    card.classList.add("reveal");

    againBtn.style.display = "inline-block";
    copyBtn.style.display = "inline-block";
  }

  function draw(){
    startCooldown();
    beginDrawAnimation();

    const result = pickRandom(cards);

    // Timing choreography:
    // show animation stage immediately
    // after 900ms: card pops in and reveals text
    drawTimer1 = setTimeout(() => {
      showResult(result);
      setButtons();
    }, 900);

    // keep hint blank while drawing
    statusHint.textContent = "";
  }

  drawBtn.addEventListener("click", draw);
  againBtn.addEventListener("click", draw);

  copyBtn.addEventListener("click", async () => {
    if (!lastResult) return;
    const text = `æˆ‘åœ¨ä½³é½¡å¥åº·æŠ½åˆ°ã€${lastResult.title}ã€‘ğŸ
${lastResult.quote}
ğŸ‘‰ ${SITE_URL}`;
    try{
      await navigator.clipboard.writeText(text);
      statusHint.textContent = "å·²è¤‡è£½åˆ†äº«æ–‡æ¡ˆ âœ…";
    }catch{
      alert(text);
    }
  });

  // init
  setButtons();
</script>
</body>
</html>

